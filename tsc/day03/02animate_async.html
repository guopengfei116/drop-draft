<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
	  div {
	    width: 100px;
	    height: 100px;
	    background-color: blueviolet;
	  }
	</style>
	<body>
	  <div></div>
	  <script src="jquery-3.1.0.js"></script>
	  <script type="text/javascript">
	    function animate(selector, style, time) {
	      return new Promise(function(yes, no) {
	        $(selector).animate(style, time, () => { yes() });
	      });
	    }

      async function fn() {
        await animate('div', { width: 300 }, 2000);
        await animate('div', { height: 300 }, 1000);
        await animate('div', { marginLeft: 500 }, 2000);
        await animate('div', { marginTop: 300 }, 1000);
      }

      fn().catch( () => { console.log('错误了') } );
	  </script>
	</body>
</html>
